<h1>ICloudService Interface</h1>
Provides access to a Steam user's Steam Cloud files. This is mostly intended to
enable cross-platform saves for your game. The Steam version of the game can use
the Steamworks Cloud features (either the ISteamRemoteStorage API, or Steam
Auto-Cloud). Non-Steam versions can use this WebAPI to access the files and
upload new versions.<br /><br />Your game will need to obtain permission from
the user to access their Steam Cloud files. This can be done via
<a
  href="https://partner.steamgames.com/doc/webapi_overview/OAuth"
  class="bb_doclink"
  >OAuth</a
>. Note that you will most likely want to request both
<code class="bb_code bb_code_inline nohighlight">read_cloud</code> and
<code class="bb_code bb_code_inline nohighlight">write_cloud</code> permissions.
<h2 class="bb_section"><a name="EnumerateUserFiles"></a>Enumerating Files</h2>
Requires
<code class="bb_code bb_code_inline nohighlight">read_cloud</code> OAuth
access.<br />
<div class="bb_code http">
  GET https://api.steampowered.com/ICloudService/EnumerateUserFiles/v1/
</div>
<table>
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td><strong>access_token</strong></td>
    <td>string</td>
    <td>✔</td>
    <td>OAuth access token for the user</td>
  </tr>
  <tr>
    <td><strong>appid</strong></td>
    <td>uint32</td>
    <td>✔</td>
    <td>Your App ID</td>
  </tr>
  <tr>
    <td><strong>extended_details</strong></td>
    <td>bool</td>
    <td></td>
    <td>Include details such as download links for the files</td>
  </tr>
  <tr>
    <td><strong>count</strong></td>
    <td>uint32</td>
    <td></td>
    <td>Max number of file to enumerate (default 500)</td>
  </tr>
  <tr>
    <td><strong>start_index</strong></td>
    <td>uint32</td>
    <td></td>
    <td>Beginning file index to enumerate (default 0)</td>
  </tr>
</table>
<br />Enumerate the user's Steam Cloud files for your game. Begin with a
"start_index" of zero, and iterate if necessary if the user has more than
"count" files.<br /><br />The response has two fields:<br />
<table>
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td><strong>files</strong></td>
    <td>see below</td>
    <td>A list of file details</td>
  </tr>
  <tr>
    <td><strong>total_files</strong></td>
    <td>uint32</td>
    <td>The total number of files the user has in Steam Cloud for your app.</td>
  </tr>
</table>
<br />The files list contains this data:<br />
<table>
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td><strong>appid</strong></td>
    <td>uint32</td>
    <td>same app id</td>
  </tr>
  <tr>
    <td><strong>ugcid</strong></td>
    <td>uint64</td>
    <td>unique file ID</td>
  </tr>
  <tr>
    <td><strong>filename</strong></td>
    <td>string</td>
    <td>the file name</td>
  </tr>
  <tr>
    <td><strong>timestamp</strong></td>
    <td>uint64</td>
    <td>epoch time when the file was last modified</td>
  </tr>
  <tr>
    <td><strong>file_size</strong></td>
    <td>uint32</td>
    <td>size of the file in bytes</td>
  </tr>
  <tr>
    <td><strong>url</strong></td>
    <td>string</td>
    <td>a URL which can be used to download the file</td>
  </tr>
  <tr>
    <td><strong>steamid_creator</strong></td>
    <td>uint64</td>
    <td>SteamID of the user</td>
  </tr>
  <tr>
    <td><strong>flags</strong></td>
    <td>uint32</td>
    <td>Steam internal use only</td>
  </tr>
  <tr>
    <td><strong>platforms_to_sync</strong></td>
    <td>string</td>
    <td>
      List of platforms for which this file is valid. See Uploading Files for
      the list of possible values.
    </td>
  </tr>
  <tr>
    <td><strong>file_sha</strong></td>
    <td>string</td>
    <td>Hex string (40 digits) representing the SHA1 digest of the file.</td>
  </tr>
</table>
<h2 class="bb_section"><a name="DownloadFiles"></a>Downloading Files</h2>
<br />To download a file, simple make a GET request to the URL returned by
EnumerateUserFiles above.
<h2 class="bb_section"><a name="UploadFile"></a>Uploading Files</h2>
Requires
<code class="bb_code bb_code_inline nohighlight">write_cloud</code> OAuth
access.<br /><br />Uploading is done via a two-part API. You'll first call
BeginHTTPUpload to get details on where to upload the file, then when that is
complete, call CommitHTTPUpload.<br /><br />
<div class="bb_code http">
  POST https://api.steampowered.com/ICloudService/BeginHTTPUpload/v1/
</div>
<table>
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td><strong>access_token</strong></td>
    <td>string</td>
    <td>✔</td>
    <td>OAuth access token for the user</td>
  </tr>
  <tr>
    <td><strong>appid</strong></td>
    <td>uint32</td>
    <td>✔</td>
    <td>Your App ID</td>
  </tr>
  <tr>
    <td><strong>file_size</strong></td>
    <td>uint32</td>
    <td>✔</td>
    <td>size of the file in bytes</td>
  </tr>
  <tr>
    <td><strong>filename</strong></td>
    <td>string</td>
    <td>✔</td>
    <td>the file name</td>
  </tr>
  <tr>
    <td><strong>file_sha</strong></td>
    <td>string</td>
    <td>✔</td>
    <td>Hex string (40 digits) representing the SHA1 digest of the file.</td>
  </tr>
  <tr>
    <td><strong>platforms_to_sync</strong></td>
    <td>string</td>
    <td>✔</td>
    <td>
      List of platforms for which this file is valid. Possible values: All,
      Windows, MacOS, linux, Android, iPhoneOS, Switch. Case-insensitive.
    </td>
  </tr>
</table>
<br />Call this API to initiate uploading a new file (or new version of an
existing file) to Steam Cloud for the user. New versions of existing files will
overwrite the existing version.<br /><br />Note that for list parameters, such
as "platforms_to_sync", the syntax is as follows:
<div class="bb_code http">
  &amp;platforms_to_sync[0]=macos&amp;platforms_to_sync[1]=windows
</div>
<br />The response data:<br />
<table>
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td><strong>ugcid</strong></td>
    <td>uint64</td>
    <td>unique file id (not needed)</td>
  </tr>
  <tr>
    <td><strong>timestamp</strong></td>
    <td>uint32</td>
    <td>epoch timestamp for this change</td>
  </tr>
  <tr>
    <td><strong>url_host</strong></td>
    <td>string</td>
    <td>Host FQDN you will upload the file to</td>
  </tr>
  <tr>
    <td><strong>url_path</strong></td>
    <td>string</td>
    <td>
      path for request. Note that currently this includes a leading slash
      character (<code class="bb_code bb_code_inline nohighlight">/</code>)
      already.
    </td>
  </tr>
  <tr>
    <td><strong>use_https</strong></td>
    <td>bool</td>
    <td>
      set to true if you must use HTTPS to perform the upload (generally always
      true)
    </td>
  </tr>
  <tr>
    <td><strong>request_headers</strong></td>
    <td>see below</td>
    <td>list of HTTP headers you must set on the subsequent PUT request</td>
  </tr>
</table>
<br />The "request_headers" list contains this data:<br />
<table>
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td><strong>name</strong></td>
    <td>string</td>
    <td>the header name</td>
  </tr>
  <tr>
    <td><strong>value</strong></td>
    <td>string</td>
    <td>the header value</td>
  </tr>
</table>
<br />To upload the file, make a PUT request to
<a
  href="https://&lt;url_host&gt;&lt;url_path&gt;"
  target="_blank"
  rel="noreferrer"
  >https://&lt;url_host&gt;&lt;url_path&gt;</a
>, where each of the above specified HTTP headers has the specified value. On
success you may receive a 200 OK, 201 Created, or 204 No Content response,
depending on the storage provider. <br /><br />When that completes (whether a
success or a failure), call:<br /><br />
<div class="bb_code http">
  POST https://api.steampowered.com/ICloudService/CommitHTTPUpload/v1/
</div>
<table>
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td><strong>access_token</strong></td>
    <td>string</td>
    <td>✔</td>
    <td>OAuth access token for the user</td>
  </tr>
  <tr>
    <td><strong>appid</strong></td>
    <td>uint32</td>
    <td>✔</td>
    <td>Your App ID</td>
  </tr>
  <tr>
    <td><strong>transfer_succeeded</strong></td>
    <td>bool</td>
    <td>✔</td>
    <td>true if the PUT request succeeded</td>
  </tr>
  <tr>
    <td><strong>filename</strong></td>
    <td>string</td>
    <td>✔</td>
    <td>the file name</td>
  </tr>
  <tr>
    <td><strong>file_sha</strong></td>
    <td>string</td>
    <td>✔</td>
    <td>Hex string (40 digits) representing the SHA1 digest of the file.</td>
  </tr>
</table>
<br />The response to this API currently has a single field, "file_committed",
which will be true if Steam was able to fully commit the change. If false, then
the upload has failed -- a new file was not recorded, and if it was an update to
an existing file, the existing file still exists and will be returned by future
Enumerate/Download requests.
<h2 class="bb_section"><a name="DeleteFile"></a>Deleting Files</h2>
Requires
<code class="bb_code bb_code_inline nohighlight">write_cloud</code> OAuth
access.<br />
<div class="bb_code http">
  POST https://api.steampowered.com/ICloudService/Delete/v1/
</div>
<table>
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td><strong>access_token</strong></td>
    <td>string</td>
    <td>✔</td>
    <td>OAuth access token for the user</td>
  </tr>
  <tr>
    <td><strong>appid</strong></td>
    <td>uint32</td>
    <td>✔</td>
    <td>Your App ID</td>
  </tr>
  <tr>
    <td><strong>filename</strong></td>
    <td>string</td>
    <td>✔</td>
    <td>filename of the file to delete</td>
  </tr>
</table>
<br />This API will delete the specified file from the user's Steam Cloud.
Deleting files is permanent; no prior versions of the file are retained. There's
no body data in the response from this API.<br /><br /><br /><br /><br />
